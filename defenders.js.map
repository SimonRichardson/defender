{"version":3,"sources":["/defenders.js","/src/runes.js","/node_modules/fantasy-io/io.js","/node_modules/fantasy-io/node_modules/daggy/daggy.js","/src/soothsayer.js","/node_modules/fantasy-states/state.js","/node_modules/fantasy-states/node_modules/daggy/daggy.js","/node_modules/fantasy-tuples/tuples.js","/node_modules/fantasy-tuples/node_modules/daggy/daggy.js","/node_modules/fantasy-options/option.js","/node_modules/fantasy-options/node_modules/daggy/daggy.js","/node_modules/fantasy-combinators/combinators.js","/src/guardian.js","/src/steward.js","/src/fortune.js","/src/defender.js","/node_modules/fantasy-eithers/either.js","/node_modules/fantasy-eithers/node_modules/daggy/daggy.js","/node_modules/fantasy-validations/validation.js","/node_modules/fantasy-validations/node_modules/daggy/daggy.js"],"names":["defender","require","fortune","guardian","soothsayer","runes","exports","module","IO","anything","a","RegExp","anythingBut","then","range","from","to","daggy","tagged","of","x","prototype","chain","g","io","unsafePerform","map","f","ap","global","factory","define","amd","create","proto","Ctor","getInstance","self","constructor","fields","slice","apply","arguments","wrapped","i","length","TypeError","_length","taggedSum","constructors","key","definitions","makeCata","dispatches","args","push","makeProto","cata","combinators","Maybe","State","compose","constant","identity","isSome","Some","None","error","str","Error","extract","filter","accum","b","split","sayings","pattern","M","StateT","program","lift","modify","get","exec","Tuple2","state","s","result","run","_1","_2","put","evalState","m","c","t","Tuple3","Tuple4","Tuple5","concat","_3","_4","_5","Option","fold","orElse","getOrElse","fix","h","flip","substitution","thrush","steward","join","every","not","test","normalise","regexp","predicate","clean","remove","values","y","splice","update","z","replace","e","selection","start","inject","list","together","possible","Validation","Tuples","Either","Success","Failure","Left","Right","executeExpr","consume","rec","index","string","position","value","containsError","createFailure","output","possibleErrors","stream","swap","l","r","bimap","f1","f2","d"],"mappings":"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","sourceRoot":".","sourcesContent":["var defender = require('./src/defender'),\n    fortune = require('./src/fortune'),\n    guardian = require('./src/guardian'),\n    soothsayer = require('./src/soothsayer'),\n    runes = require('./src/runes');\n\nexports = module.exports = {\n    defender: defender,\n    fortune: fortune,\n    guardian: guardian,\n    soothsayer: soothsayer,\n    runes: runes\n};\n","var IO = require('fantasy-io');\n\nfunction anything(a) {\n    return IO(function() {\n        return new RegExp('^' + a + '+');\n    });\n}\n\nfunction anythingBut(a) {\n    return IO(function() {\n        return new RegExp('^[^' + a + ']+');\n    });\n}\n\nfunction then(a) {\n    return IO(function() {\n        return new RegExp('^' + a);\n    });\n}\n\nfunction range(from, to) {\n    return IO(function() {\n        return new RegExp('^[' + from + '-' + to + ']');\n    });\n}\n\nexports = module.exports = {\n\tanything: anything,\n\tanythingBut: anythingBut,\n\tthen: then,\n\trange: range\n};\n","var daggy = require('daggy'),\n    IO = daggy.tagged('unsafePerform');\n\n// Methods\nIO.of = function(x) {\n    return IO(function() {\n        return x;\n    });\n};\nIO.prototype.chain = function(g) {\n    var io = this;\n    return IO(function() {\n        return g(io.unsafePerform()).unsafePerform();\n    });\n};\n\n// Derived\nIO.prototype.map = function(f) {\n    return this.chain(function(a) {\n        return IO.of(f(a));\n    });\n};\nIO.prototype.ap = function(a) {\n    return this.chain(function(f) {\n        return a.map(f);\n    });\n};\n\n// Export\nif(typeof module != 'undefined')\n    module.exports = IO;\n","/**\n  # Daggy\n\n  Library for creating tagged constructors.\n**/\n(function(global, factory) {\n    'use strict';\n\n    if(typeof define === 'function' && define.amd) {\n        define(['exports'], factory);\n    } else if(typeof exports !== 'undefined') {\n        factory(exports);\n    } else {\n        global.daggy = {};\n        factory(global.daggy);\n    }\n})(this, function(exports) {\n    function create(proto) {\n        function Ctor() {}\n        Ctor.prototype = proto;\n        return new Ctor();\n    }\n    exports.create = create;\n\n    /**\n      ## `daggy.getInstance(self, constructor)`\n\n      Returns `self` if it's an `instanceof constructor`, otherwise\n      creates a new object with `constructor`'s prototype.\n\n      Allows creating constructors that can be used with or without\n      the new keyword but always have the correct prototype.\n\n      ```javascript\n      function WrappedArray() {\n          var self = daggy.getInstance(this, WrappedArray);\n          self._array = [].slice.apply(arguments);\n          return self;\n      }\n      new WrappedArray(1, 2, 3) instanceof WrappedArray; // true\n      WrappedArray(1, 2, 3) instanceof WrappedArray; // true\n      ```\n    **/\n    function getInstance(self, constructor) {\n        return self instanceof constructor ? self : create(constructor.prototype);\n    }\n    exports.getInstance = getInstance;\n\n    /**\n      ## `daggy.tagged(arguments)`\n\n      Creates a new constructor with the given field names as\n      arguments and properties. Allows `instanceof` checks with\n      returned constructor.\n\n      ```javascript\n      var Tuple3 = daggy.tagged('x', 'y', 'z');\n\n      var _123 = Tuple3(1, 2, 3); // optional new keyword\n      _123.x == 1 && _123.y == 2 && _123.z == 3; // true\n      _123 instanceof Tuple3; // true\n      ```\n    **/\n    function tagged() {\n        var fields = [].slice.apply(arguments);\n        function wrapped() {\n            var self = getInstance(this, wrapped),\n                i;\n\n            if(arguments.length != fields.length)\n                throw new TypeError('Expected ' + fields.length + ' arguments, got ' + arguments.length);\n\n            for(i = 0; i < fields.length; i++)\n                self[fields[i]] = arguments[i];\n\n            return self;\n        }\n        wrapped._length = fields.length;\n        return wrapped;\n    }\n    exports.tagged = tagged;\n\n    /**\n      ## `daggy.taggedSum(constructors)`\n\n      Creates a constructor for each key in `constructors`. Returns a\n      function with each constructor as a property. Allows\n      `instanceof` checks for each constructor and the returned\n      function.\n\n      ```javascript\n      var Option = daggy.taggedSum({\n          Some: ['x'],\n          None: []\n      });\n\n      Option.Some(1) instanceof Option.Some; // true\n      Option.Some(1) instanceof Option; // true\n      Option.None instanceof Option; // true\n\n      function incOrZero(o) {\n          return o.cata({\n              Some: function(x) {\n                  return x + 1;\n              },\n              None: function() {\n                  return 0;\n              }\n          });\n      }\n      incOrZero(Option.Some(1)); // 2\n      incOrZero(Option.None); // 0\n      ```\n    **/\n    function taggedSum(constructors) {\n        var key;\n\n        function definitions() {\n            throw new TypeError('Tagged sum was called instead of one of its properties.');\n        }\n\n        function makeCata(key) {\n            return function(dispatches) {\n                var fields = constructors[key],\n                    args = [],\n                    i;\n\n                if(!dispatches[key])\n                    throw new TypeError(\"Constructors given to cata didn't include: \" + key);\n\n                for(i = 0; i < fields.length; i++)\n                    args.push(this[fields[i]]);\n\n                return dispatches[key].apply(this, args);\n            };\n        }\n\n        function makeProto(key) {\n            var proto = create(definitions.prototype);\n            proto.cata = makeCata(key);\n            return proto;\n        }\n\n        for(key in constructors) {\n            if(!constructors[key].length) {\n                definitions[key] = makeProto(key);\n                continue;\n            }\n            definitions[key] = tagged.apply(null, constructors[key]);\n            definitions[key].prototype = makeProto(key);\n        }\n\n        return definitions;\n    }\n    exports.taggedSum = taggedSum;\n});\n","var combinators = require('fantasy-combinators'),\n    IO = require('fantasy-io'),\n    Maybe = require('fantasy-options'),\n    State = require('fantasy-states'),\n\n    compose = combinators.compose,\n    constant = combinators.constant,\n    identity = combinators.identity,\n\n    isSome = function(a) {\n        return a.cata({\n            Some: constant(true),\n            None: constant(false)\n        });\n    },\n\n    error = function(str) {\n        return function() {\n            throw new Error(str);\n        };\n    },\n\n    extract = function() {\n        return function(a) {\n            return a.map(function(x) {\n                return x.cata({\n                    Some: identity,\n                    None: error('Invalid Option')\n                });\n            });\n        };\n    },\n\n    filter = function(f) {\n        return function(x) {\n            return function() {\n                var accum = [],\n                    i;\n\n                for(i = 0; i < x.length; i++) {\n                    if (f(x[i]))\n                        accum.push(x[i]);\n                }\n\n                return accum;\n            };\n        };\n    },\n\n    map = function(a) {\n        return function(b) {\n            return function() {\n                return b.map(function(x) {\n                    return x in a ? Maybe.Some(a[x]) : Maybe.None;\n                });\n            };\n        };\n    },\n\n    split = function(a) {\n        return function(b) {\n            return function() {\n                return b.split(a);\n            };\n        };\n    },\n\n    soothsayer = function(sayings) {\n        return function(pattern) {\n            var M = State.StateT(IO),\n\n                program =\n                    M.lift(pattern)\n                    .chain(compose(M.modify)(split('')))\n                    .chain(constant(M.get))\n                    .chain(compose(M.modify)(map(sayings)))\n                    .chain(constant(M.get))\n                    .chain(compose(M.modify)(filter(isSome)))\n                    .chain(constant(M.get))\n                    .chain(compose(M.modify)(extract))\n                    .chain(constant(M.get));\n\n            return program.exec('');\n        };\n    };\n\nexports = module.exports = soothsayer;\n","var Tuple2 = require('fantasy-tuples').Tuple2,\n    daggy = require('daggy'),\n    State = daggy.tagged('run');\n\n// Methods\nState.of = function(a) {\n    return State(function(b) {\n        return Tuple2(a, b);\n    });\n};\nState.prototype.chain = function(f) {\n    var state = this;\n    return State(function(s) {\n        var result = state.run(s);\n        return f(result._1).run(result._2);\n    });\n};\nState.get = State(function(s) {\n    return Tuple2(s, s);\n});\nState.modify = function(f) {\n    return State(function(s) {\n        return Tuple2(null, f(s));\n    });\n};\nState.put = function(s) {\n    return State.modify(function(a) {\n        return s;\n    });\n};\nState.prototype.evalState = function(s) {\n    return this.run(s)._1;\n};\nState.prototype.exec = function(s) {\n    return this.run(s)._2;\n};\n\n// Derived\nState.prototype.map = function(f) {\n    return this.chain(function(a) {\n        return State.of(f(a));\n    });\n};\nState.prototype.ap = function(a) {\n    return this.chain(function(f) {\n        return a.map(f);\n    });\n};\n\n// Transformer\nState.StateT = function(M) {\n    var StateT = daggy.tagged('run');\n    StateT.lift = function(m) {\n        return StateT(function(b) {\n            return m.map(function(c) {\n                return Tuple2(c, b);\n            });\n        });\n    };\n    StateT.of = function(a) {\n        return StateT(function(b) {\n            return M.of(Tuple2(a, b));\n        });\n    };\n    StateT.prototype.chain = function(f) {\n        var state = this;\n        return StateT(function(s) {\n            var result = state.run(s);\n            return result.chain(function(t) {\n                return f(t._1).run(t._2);\n            });\n        });\n    };\n    StateT.get = StateT(function(s) {\n        return M.of(Tuple2(s, s));\n    });\n    StateT.modify = function(f) {\n        return StateT(function(s) {\n            return M.of(Tuple2(null, f(s)));\n        });\n    };\n    StateT.put = function(s) {\n        return StateT.modify(function(a) {\n            return s;\n        });\n    };\n    StateT.prototype.evalState = function(s) {\n        return this.run(s).map(function(t) {\n            return t._1;\n        });\n    };\n    StateT.prototype.exec = function(s) {\n        return this.run(s).map(function(t) {\n            return t._2;\n        });\n    };\n    StateT.prototype.map = function(f) {\n        return this.chain(function(a) {\n            return StateT.of(f(a));\n        });\n    };\n    StateT.prototype.ap = function(a) {\n        return this.chain(function(f) {\n            return a.map(f);\n        });\n    };\n    return StateT;\n};\n\n// Export\nif(typeof module != 'undefined')\n    module.exports = State;\n","/**\n  # Daggy\n\n  Library for creating tagged constructors.\n**/\n(function(global, factory) {\n    'use strict';\n\n    if(typeof define === 'function' && define.amd) {\n        define(['exports'], factory);\n    } else if(typeof exports !== 'undefined') {\n        factory(exports);\n    } else {\n        global.daggy = {};\n        factory(global.daggy);\n    }\n})(this, function(exports) {\n    function create(proto) {\n        function Ctor() {}\n        Ctor.prototype = proto;\n        return new Ctor();\n    }\n    exports.create = create;\n\n    /**\n      ## `daggy.getInstance(self, constructor)`\n\n      Returns `self` if it's an `instanceof constructor`, otherwise\n      creates a new object with `constructor`'s prototype.\n\n      Allows creating constructors that can be used with or without\n      the new keyword but always have the correct prototype.\n\n      ```javascript\n      function WrappedArray() {\n          var self = daggy.getInstance(this, WrappedArray);\n          self._array = [].slice.apply(arguments);\n          return self;\n      }\n      new WrappedArray(1, 2, 3) instanceof WrappedArray; // true\n      WrappedArray(1, 2, 3) instanceof WrappedArray; // true\n      ```\n    **/\n    function getInstance(self, constructor) {\n        return self instanceof constructor ? self : create(constructor.prototype);\n    }\n    exports.getInstance = getInstance;\n\n    /**\n      ## `daggy.tagged(arguments)`\n\n      Creates a new constructor with the given field names as\n      arguments and properties. Allows `instanceof` checks with\n      returned constructor.\n\n      ```javascript\n      var Tuple3 = daggy.tagged('x', 'y', 'z');\n\n      var _123 = Tuple3(1, 2, 3); // optional new keyword\n      _123.x == 1 && _123.y == 2 && _123.z == 3; // true\n      _123 instanceof Tuple3; // true\n      ```\n    **/\n    function tagged() {\n        var fields = [].slice.apply(arguments);\n        function wrapped() {\n            var self = getInstance(this, wrapped),\n                i;\n\n            if(arguments.length != fields.length)\n                throw new TypeError('Expected ' + fields.length + ' arguments, got ' + arguments.length);\n\n            for(i = 0; i < fields.length; i++)\n                self[fields[i]] = arguments[i];\n\n            return self;\n        }\n        wrapped._length = fields.length;\n        return wrapped;\n    }\n    exports.tagged = tagged;\n\n    /**\n      ## `daggy.taggedSum(constructors)`\n\n      Creates a constructor for each key in `constructors`. Returns a\n      function with each constructor as a property. Allows\n      `instanceof` checks for each constructor and the returned\n      function.\n\n      ```javascript\n      var Option = daggy.taggedSum({\n          Some: ['x'],\n          None: []\n      });\n\n      Option.Some(1) instanceof Option.Some; // true\n      Option.Some(1) instanceof Option; // true\n      Option.None instanceof Option; // true\n\n      function incOrZero(o) {\n          return o.cata({\n              Some: function(x) {\n                  return x + 1;\n              },\n              None: function() {\n                  return 0;\n              }\n          });\n      }\n      incOrZero(Option.Some(1)); // 2\n      incOrZero(Option.None); // 0\n      ```\n    **/\n    function taggedSum(constructors) {\n        var key;\n\n        function definitions() {\n            throw new TypeError('Tagged sum was called instead of one of its properties.');\n        }\n\n        function makeCata(key) {\n            return function(dispatches) {\n                var fields = constructors[key],\n                    args = [],\n                    i;\n\n                if(!dispatches[key])\n                    throw new TypeError(\"Constructors given to cata didn't include: \" + key);\n\n                for(i = 0; i < fields.length; i++)\n                    args.push(this[fields[i]]);\n\n                return dispatches[key].apply(this, args);\n            };\n        }\n\n        function makeProto(key) {\n            var proto = create(definitions.prototype);\n            proto.cata = makeCata(key);\n            return proto;\n        }\n\n        for(key in constructors) {\n            if(!constructors[key].length) {\n                definitions[key] = makeProto(key);\n                continue;\n            }\n            definitions[key] = tagged.apply(null, constructors[key]);\n            definitions[key].prototype = makeProto(key);\n        }\n\n        return definitions;\n    }\n    exports.taggedSum = taggedSum;\n});\n","var daggy = require('daggy'),\n    Tuple2 = daggy.tagged('_1', '_2'),\n    Tuple3 = daggy.tagged('_1', '_2', '_3'),\n    Tuple4 = daggy.tagged('_1', '_2', '_3', '_4'),\n    Tuple5 = daggy.tagged('_1', '_2', '_3', '_4', '_5');\n\n// Methods\nTuple2.prototype.concat = function(b) {\n    return Tuple2(\n        this._1.concat(b._1),\n        this._2.concat(b._2)\n    );\n};\nTuple3.prototype.concat = function(b) {\n    return Tuple3(\n        this._1.concat(b._1),\n        this._2.concat(b._2),\n        this._3.concat(b._3)\n    );\n};\nTuple4.prototype.concat = function(b) {\n    return Tuple4(\n        this._1.concat(b._1),\n        this._2.concat(b._2),\n        this._3.concat(b._3),\n        this._4.concat(b._4)\n    );\n};\nTuple5.prototype.concat = function(b) {\n    return Tuple5(\n        this._1.concat(b._1),\n        this._2.concat(b._2),\n        this._3.concat(b._3),\n        this._4.concat(b._4),\n        this._5.concat(b._5)\n    );\n};\n\n// Export\nif(typeof exports != 'undefined') {\n    exports.Tuple2 = Tuple2;\n    exports.Tuple3 = Tuple3;\n    exports.Tuple4 = Tuple4;\n    exports.Tuple5 = Tuple5;\n}\n","/**\n  # Daggy\n\n  Library for creating tagged constructors.\n**/\n(function(global, factory) {\n    'use strict';\n\n    if(typeof define === 'function' && define.amd) {\n        define(['exports'], factory);\n    } else if(typeof exports !== 'undefined') {\n        factory(exports);\n    } else {\n        global.daggy = {};\n        factory(global.daggy);\n    }\n})(this, function(exports) {\n    function create(proto) {\n        function Ctor() {}\n        Ctor.prototype = proto;\n        return new Ctor();\n    }\n    exports.create = create;\n\n    /**\n      ## `daggy.getInstance(self, constructor)`\n\n      Returns `self` if it's an `instanceof constructor`, otherwise\n      creates a new object with `constructor`'s prototype.\n\n      Allows creating constructors that can be used with or without\n      the new keyword but always have the correct prototype.\n\n      ```javascript\n      function WrappedArray() {\n          var self = daggy.getInstance(this, WrappedArray);\n          self._array = [].slice.apply(arguments);\n          return self;\n      }\n      new WrappedArray(1, 2, 3) instanceof WrappedArray; // true\n      WrappedArray(1, 2, 3) instanceof WrappedArray; // true\n      ```\n    **/\n    function getInstance(self, constructor) {\n        return self instanceof constructor ? self : create(constructor.prototype);\n    }\n    exports.getInstance = getInstance;\n\n    /**\n      ## `daggy.tagged(arguments)`\n\n      Creates a new constructor with the given field names as\n      arguments and properties. Allows `instanceof` checks with\n      returned constructor.\n\n      ```javascript\n      var Tuple3 = daggy.tagged('x', 'y', 'z');\n\n      var _123 = Tuple3(1, 2, 3); // optional new keyword\n      _123.x == 1 && _123.y == 2 && _123.z == 3; // true\n      _123 instanceof Tuple3; // true\n      ```\n    **/\n    function tagged() {\n        var fields = [].slice.apply(arguments);\n        function wrapped() {\n            var self = getInstance(this, wrapped),\n                i;\n\n            if(arguments.length != fields.length)\n                throw new TypeError('Expected ' + fields.length + ' arguments, got ' + arguments.length);\n\n            for(i = 0; i < fields.length; i++)\n                self[fields[i]] = arguments[i];\n\n            return self;\n        }\n        wrapped._length = fields.length;\n        return wrapped;\n    }\n    exports.tagged = tagged;\n\n    /**\n      ## `daggy.taggedSum(constructors)`\n\n      Creates a constructor for each key in `constructors`. Returns a\n      function with each constructor as a property. Allows\n      `instanceof` checks for each constructor and the returned\n      function.\n\n      ```javascript\n      var Option = daggy.taggedSum({\n          Some: ['x'],\n          None: []\n      });\n\n      Option.Some(1) instanceof Option.Some; // true\n      Option.Some(1) instanceof Option; // true\n      Option.None instanceof Option; // true\n\n      function incOrZero(o) {\n          return o.cata({\n              Some: function(x) {\n                  return x + 1;\n              },\n              None: function() {\n                  return 0;\n              }\n          });\n      }\n      incOrZero(Option.Some(1)); // 2\n      incOrZero(Option.None); // 0\n      ```\n    **/\n    function taggedSum(constructors) {\n        var key;\n\n        function definitions() {\n            throw new TypeError('Tagged sum was called instead of one of its properties.');\n        }\n\n        function makeCata(key) {\n            return function(dispatches) {\n                var fields = constructors[key],\n                    args = [],\n                    i;\n\n                if(!dispatches[key])\n                    throw new TypeError(\"Constructors given to cata didn't include: \" + key);\n\n                for(i = 0; i < fields.length; i++)\n                    args.push(this[fields[i]]);\n\n                return dispatches[key].apply(this, args);\n            };\n        }\n\n        function makeProto(key) {\n            var proto = create(definitions.prototype);\n            proto.cata = makeCata(key);\n            return proto;\n        }\n\n        for(key in constructors) {\n            if(!constructors[key].length) {\n                definitions[key] = makeProto(key);\n                continue;\n            }\n            definitions[key] = tagged.apply(null, constructors[key]);\n            definitions[key].prototype = makeProto(key);\n        }\n\n        return definitions;\n    }\n    exports.taggedSum = taggedSum;\n});\n","var daggy = require('daggy'),\n    Option = daggy.taggedSum({\n        Some: ['x'],\n        None: []\n    });\n\n// Methods\nOption.prototype.fold = function(f, g) {\n    return this.cata({\n        Some: f,\n        None: g\n    });\n};\nOption.of = Option.Some;\nOption.prototype.orElse = function(x) {\n    return this.fold(\n        function(x) {\n            return Option.Some(x);\n        },\n        function() {\n            return x;\n        }\n    );\n};\nOption.prototype.getOrElse = function(x) {\n    return this.fold(\n        function(a) {\n            return a;\n        },\n        function() {\n            return x;\n        }\n    );\n};\nOption.prototype.chain = function(f) {\n    return this.fold(\n        function(a) {\n            return f(a);\n        },\n        function() {\n            return Option.None;\n        }\n    );\n};\nOption.prototype.concat = function(x) {\n    return this.fold(\n        function(a) {\n            return x.chain(function(b) {\n                return Option.Some(a.concat(b));\n            });\n        },\n        function() {\n            return b;\n        }\n    );\n};\n\n// Derived\nOption.prototype.map = function(f) {\n    return this.chain(function(a) {\n        return Option.of(f(a));\n    });\n};\nOption.prototype.ap = function(a) {\n    return this.chain(function(f) {\n        return a.map(f);\n    });\n};\n\n// Export\nif(typeof module != 'undefined')\n    module.exports = Option;\n","/**\n  # Daggy\n\n  Library for creating tagged constructors.\n**/\n(function(global, factory) {\n    'use strict';\n\n    if(typeof define === 'function' && define.amd) {\n        define(['exports'], factory);\n    } else if(typeof exports !== 'undefined') {\n        factory(exports);\n    } else {\n        global.daggy = {};\n        factory(global.daggy);\n    }\n})(this, function(exports) {\n    function create(proto) {\n        function Ctor() {}\n        Ctor.prototype = proto;\n        return new Ctor();\n    }\n    exports.create = create;\n\n    /**\n      ## `daggy.getInstance(self, constructor)`\n\n      Returns `self` if it's an `instanceof constructor`, otherwise\n      creates a new object with `constructor`'s prototype.\n\n      Allows creating constructors that can be used with or without\n      the new keyword but always have the correct prototype.\n\n      ```javascript\n      function WrappedArray() {\n          var self = daggy.getInstance(this, WrappedArray);\n          self._array = [].slice.apply(arguments);\n          return self;\n      }\n      new WrappedArray(1, 2, 3) instanceof WrappedArray; // true\n      WrappedArray(1, 2, 3) instanceof WrappedArray; // true\n      ```\n    **/\n    function getInstance(self, constructor) {\n        return self instanceof constructor ? self : create(constructor.prototype);\n    }\n    exports.getInstance = getInstance;\n\n    /**\n      ## `daggy.tagged(arguments)`\n\n      Creates a new constructor with the given field names as\n      arguments and properties. Allows `instanceof` checks with\n      returned constructor.\n\n      ```javascript\n      var Tuple3 = daggy.tagged('x', 'y', 'z');\n\n      var _123 = Tuple3(1, 2, 3); // optional new keyword\n      _123.x == 1 && _123.y == 2 && _123.z == 3; // true\n      _123 instanceof Tuple3; // true\n      ```\n    **/\n    function tagged() {\n        var fields = [].slice.apply(arguments);\n        function wrapped() {\n            var self = getInstance(this, wrapped),\n                i;\n\n            if(arguments.length != fields.length)\n                throw new TypeError('Expected ' + fields.length + ' arguments, got ' + arguments.length);\n\n            for(i = 0; i < fields.length; i++)\n                self[fields[i]] = arguments[i];\n\n            return self;\n        }\n        wrapped._length = fields.length;\n        return wrapped;\n    }\n    exports.tagged = tagged;\n\n    /**\n      ## `daggy.taggedSum(constructors)`\n\n      Creates a constructor for each key in `constructors`. Returns a\n      function with each constructor as a property. Allows\n      `instanceof` checks for each constructor and the returned\n      function.\n\n      ```javascript\n      var Option = daggy.taggedSum({\n          Some: ['x'],\n          None: []\n      });\n\n      Option.Some(1) instanceof Option.Some; // true\n      Option.Some(1) instanceof Option; // true\n      Option.None instanceof Option; // true\n\n      function incOrZero(o) {\n          return o.cata({\n              Some: function(x) {\n                  return x + 1;\n              },\n              None: function() {\n                  return 0;\n              }\n          });\n      }\n      incOrZero(Option.Some(1)); // 2\n      incOrZero(Option.None); // 0\n      ```\n    **/\n    function taggedSum(constructors) {\n        var key;\n\n        function definitions() {\n            throw new TypeError('Tagged sum was called instead of one of its properties.');\n        }\n\n        function makeCata(key) {\n            return function(dispatches) {\n                var fields = constructors[key],\n                    args = [],\n                    i;\n\n                if(!dispatches[key])\n                    throw new TypeError(\"Constructors given to cata didn't include: \" + key);\n\n                for(i = 0; i < fields.length; i++)\n                    args.push(this[fields[i]]);\n\n                return dispatches[key].apply(this, args);\n            };\n        }\n\n        function makeProto(key) {\n            var proto = create(definitions.prototype);\n            proto.cata = makeCata(key);\n            return proto;\n        }\n\n        for(key in constructors) {\n            if(!constructors[key].length) {\n                definitions[key] = makeProto(key);\n                continue;\n            }\n            definitions[key] = tagged.apply(null, constructors[key]);\n            definitions[key].prototype = makeProto(key);\n        }\n\n        return definitions;\n    }\n    exports.taggedSum = taggedSum;\n});\n","// A combinator\nfunction apply(f) {\n    return function(x) {\n        return f(x);\n    };\n}\n\n// B combinator\nfunction compose(f) {\n    return function(g) {\n        return function(x) {\n            return f(g(x));\n        };\n    };\n}\n\n// K combinator\nfunction constant(a) {\n    return function(b) {\n        return a;\n    };\n}\n\n// Y combinator\nfunction fix(f) {\n    function g(h) {\n        return function(x) {\n            return f(h(h))(x);\n        };\n    };\n    return g(g);\n}\n\n// C combinator\nfunction flip(f) {\n    return function(a) {\n        return function(b) {\n            return f(b)(a);\n        };\n    };\n}\n\n// I combinator\nfunction identity(a) {\n    return a;\n}\n\n// S combinator\nfunction substitution(f) {\n    return function(g) {\n        return function(x) {\n            f(x)(g(x));\n        };\n    };\n}\n\n// T combinator\nfunction thrush(x) {\n    return function(f) {\n        return f(x);\n    };\n}\n\n// Export\nif(typeof module != 'undefined')\n    module.exports = {\n        apply: apply,\n        compose: compose,\n        constant: constant,\n        fix: fix,\n        flip: flip,\n        identity: identity,\n        substitution: substitution,\n        thrush: thrush\n    };\n","var combinators = require('fantasy-combinators'),\n    IO = require('fantasy-io'),\n    State = require('fantasy-states'),\n    steward = require('./steward'),\n\n    ap = combinators.apply,\n    compose = combinators.compose,\n    constant = combinators.constant,\n    \n    split = function(a) {\n        return function(b) {\n            return b.split(a);\n        };\n    },\n    join = function(a) {\n        return function(b) {\n            return b.join(a);\n        };\n    },\n\n    filter = function(f) {\n        return function(x) {\n            var accum = [],\n                i;\n            for(i = 0;  i < x.length; i++) {\n                if (f(x[i]))\n                    accum.push(x[i]);\n            }\n            return accum;\n        };\n    },\n    every = function(f) {\n        return function(x) {\n            return steward(split(''), join(''))(f)(x);\n        };\n    },\n    not = function(a) {\n        return !a;\n    },\n    test = function(a) {\n        return function(b) {\n            return a.test(b);\n        };\n    },\n\n    normalise = function(regexp) {\n        return function(f) {\n            var M = State.StateT(IO),\n\n                predicate = compose(not)(test(regexp)),\n                clean = ap(every(filter(predicate))),\n\n                program = M.lift(f)\n                    .chain(compose(M.modify)(\n                        function(a) {\n                            return constant(clean(a));\n                        }\n                    ))\n                    .chain(constant(M.get));\n\n            return program.exec('');\n        };\n    };\n\nexports = module.exports = normalise;\n","var combinators = require('fantasy-combinators'),\n    \n    compose = combinators.compose,\n\n    steward = function(a, b) {\n        return function(c) {\n            return compose(compose(b)(c))(a);\n        };\n    };\n\nexports = module.exports = steward;\n","var combinators = require('fantasy-combinators'),\n    IO = require('fantasy-io'),\n    State = require('fantasy-states'),\n    steward = require('./steward'),\n\n    ap = combinators.apply,\n    compose = combinators.compose,\n    constant = combinators.constant,\n    identity = combinators.identity,\n\n    split = function(a) {\n        return function(b) {\n            return [b[0].split(a), b[1]];\n        };\n    },\n\n    join = function(a) {\n        return function(b) {\n            return [b[0].join(a), b[1]];\n        };\n    },\n\n    remove = function(values) {\n        var a = values.slice();\n        return function(x, y) {\n            a.splice(x, y);\n            return a;\n        };\n    },\n\n    update = function(values) {\n        var a = values.slice();\n        return function(x, y) {\n            return function(z) {\n                a.splice(x, y, z);\n                return a;\n            };\n        };\n    },\n\n    replace = function(e) {\n        return function(b) {\n            var selection = b[1],\n                start = selection[0],\n                result = e.fold(\n                    function(x) {\n                        var a = remove(b[0]);\n                        return x.fold(\n                            constant(a(start - 1, 1)),\n                            constant(a(start, 1))\n                        );\n                    },\n                    function(x) {\n                        var a = update(b[0]);\n                        return x.fold(\n                            constant(b[0]),\n                            a(start, selection[1] - start)\n                        );\n                    }\n                );\n            return [result, selection];\n        };\n    },\n\n    inject = function(x) {\n        return function(a) {\n            return function(b) {\n                var list = steward(split(''), join(''));\n                return list(replace(a))(b);\n            };\n        };\n    },\n\n    together = function(a) {\n        return function(b) {\n            return [b, a];\n        };\n    },\n\n    extract = function() {\n        return function(b) {\n            return b[0];\n        };\n    },\n\n    fortune = function(io) {\n        return function(key, selection) {\n            var M = State.StateT(IO),\n \n                values =\n                    M.lift(key)\n                    .chain(compose(M.modify)(constant))\n                    .chain(constant(M.get))\n                    .chain(compose(M.modify)(inject))\n                    .chain(constant(M.get)),\n \n                possible = values.exec(''),\n \n                fortune =\n                    M.lift(io)\n                    .chain(compose(M.modify)(constant))\n                    .chain(constant(M.lift(selection)))\n                    .chain(compose(M.modify)(together))\n                    .chain(constant(M.get))\n                    .chain(constant(M.lift(possible)))\n                    .chain(compose(M.modify)(ap))\n                    .chain(constant(M.get))\n                    .chain(compose(M.modify)(extract))\n                    .chain(constant(M.get));\n \n            return fortune.exec('');\n        };\n    };\n\nexports = module.exports = fortune;\n","var Validation = require('fantasy-validations'),\n    combinators = require('fantasy-combinators'),\n    IO = require('fantasy-io'),\n    Maybe = require('fantasy-options'),\n    State = require('fantasy-states'),\n    Tuples = require('fantasy-tuples'),\n    Either = require('fantasy-eithers'),\n\n    compose = combinators.compose,\n    constant = combinators.constant,\n\n    Success = Validation.Success,\n    Failure = Validation.Failure,\n\n    Left = Either.Left,\n    Right = Either.Right,\n\n    Tuple2 = Tuples.Tuple2,\n    Tuple3 = Tuples.Tuple3,\n\n    executeExpr = function(a) {\n        return function(b) {\n            return constant(b.exec(a));\n        };\n    },\n\n    consume = function(a) {\n        var M = State.StateT(IO);\n\n        return function(b) {\n            /* FIXME (Simon) : The stateT in here should be chained to the mail flow. */\n            var rec = function(index, string, accum) {\n                    var position,\n                        possible,\n                        value;\n\n                    if (index < b.length) {\n                        value = b[index];\n\n                        possible = M.lift(value)\n                            .chain(compose(M.modify)(executeExpr(string)))\n                            .chain(constant(M.get))\n                            .exec('')\n                            .unsafePerform();\n\n                        if(possible) {\n                            string = string.slice(possible[0].length);\n                        } else {\n                            position = (a.length - string.length) + 1;\n                            accum.push(Tuple3(string, Maybe.Some(value), position));\n                            /* Let's move the string onwards */\n                            if (string.length < 1)\n                                return Tuple2(string, accum);\n                            string = string.slice(1);\n                        }\n\n                        return rec(index + 1, string, accum);\n                    } else {\n                        return Tuple2(string, accum);\n                    }\n                },\n                result = rec(0, a, []);\n\n            return Tuple3(a, result._1, result._2);\n        };\n    },\n\n    containsError = function(x) {\n        var i;\n        for(i = 0; i < x.length; i++) {\n            if (x[i]._1 !== '')\n                return true;\n        }\n        return false;\n    },\n\n    createFailure = function(string, position) {\n        return Failure([Tuple3(string, Maybe.None, position)]);\n    },\n\n    output = function() {\n        return function(x) {\n            var string = x._2,\n                possibleErrors = x._3;\n\n            /* Re-factor this, as it's really messy */\n            if (possibleErrors.length < 1 && string.length > 0) {\n                /* Check for overflows */\n                return Left(createFailure(string, (x._1.length - string.length) + 1));\n\n            } else if(possibleErrors.length > 0) {\n                \n                if (string.length < 1 && !containsError(possibleErrors)) {\n                    /* Check for underflows */\n                    return Right(createFailure(string, string.length));\n\n                } else\n                    return Left(Failure(possibleErrors));\n\n            } else\n                return Right(Success(x._1));\n        };\n    },\n\n    defender = function(sayings) {\n        return function(stream) {\n            var M = State.StateT(IO),\n                program =\n                    M.lift(sayings)\n                    .chain(compose(M.modify)(constant))\n                    .chain(constant(M.lift(stream)))\n                    .chain(compose(M.modify)(consume))\n                    .chain(constant(M.get))\n                    .chain(compose(M.modify)(output))\n                    .chain(constant(M.get));\n                    \n            return program.exec([]);\n        };\n    };\n\nexports = module.exports = defender;\n","var daggy = require('daggy'),\n    Either = daggy.taggedSum({\n        Left:  ['l'],\n        Right: ['r']\n    });\n\n// Methods\nEither.prototype.fold = function(f, g) {\n    return this.cata({\n        Left: f,\n        Right: g\n    });\n};\nEither.of = Either.Right;\nEither.prototype.swap = function() {\n    return this.fold(\n        function(l) {\n            return Either.Right(l);\n        },\n        function(r) {\n            return Either.Left(r);\n        }\n    );\n};\nEither.prototype.bimap = function(f, g) {\n    return this.fold(\n        function(l) {\n            return Either.Left(f(l));\n        },\n        function(r) {\n            return Either.Right(g(r));\n        }\n    );\n};\nEither.prototype.chain = function(f) {\n    return this.fold(\n        function(l) {\n            return Either.Left(l);\n        },\n        function(r) {\n            return f(r);\n        }\n    );\n};\nEither.prototype.concat = function(b) {\n    return this.fold(\n        function(l) {\n            return Either.Left(l);\n        },\n        function(r) {\n            return b.chain(function(t) {\n                return Either.Right(r.concat(t));\n            });\n        }\n    );\n};\n\n// Derived\nEither.prototype.map = function(f) {\n    return this.chain(function(a) {\n        return Either.of(f(a));\n    });\n};\nEither.prototype.ap = function(a) {\n    return this.chain(function(f) {\n        return a.map(f);\n    });\n};\n\n// Export\nif(typeof module != 'undefined')\n    module.exports = Either;\n","/**\n  # Daggy\n\n  Library for creating tagged constructors.\n**/\n(function(global, factory) {\n    'use strict';\n\n    if(typeof define === 'function' && define.amd) {\n        define(['exports'], factory);\n    } else if(typeof exports !== 'undefined') {\n        factory(exports);\n    } else {\n        global.daggy = {};\n        factory(global.daggy);\n    }\n})(this, function(exports) {\n    function create(proto) {\n        function Ctor() {}\n        Ctor.prototype = proto;\n        return new Ctor();\n    }\n    exports.create = create;\n\n    /**\n      ## `daggy.getInstance(self, constructor)`\n\n      Returns `self` if it's an `instanceof constructor`, otherwise\n      creates a new object with `constructor`'s prototype.\n\n      Allows creating constructors that can be used with or without\n      the new keyword but always have the correct prototype.\n\n      ```javascript\n      function WrappedArray() {\n          var self = daggy.getInstance(this, WrappedArray);\n          self._array = [].slice.apply(arguments);\n          return self;\n      }\n      new WrappedArray(1, 2, 3) instanceof WrappedArray; // true\n      WrappedArray(1, 2, 3) instanceof WrappedArray; // true\n      ```\n    **/\n    function getInstance(self, constructor) {\n        return self instanceof constructor ? self : create(constructor.prototype);\n    }\n    exports.getInstance = getInstance;\n\n    /**\n      ## `daggy.tagged(arguments)`\n\n      Creates a new constructor with the given field names as\n      arguments and properties. Allows `instanceof` checks with\n      returned constructor.\n\n      ```javascript\n      var Tuple3 = daggy.tagged('x', 'y', 'z');\n\n      var _123 = Tuple3(1, 2, 3); // optional new keyword\n      _123.x == 1 && _123.y == 2 && _123.z == 3; // true\n      _123 instanceof Tuple3; // true\n      ```\n    **/\n    function tagged() {\n        var fields = [].slice.apply(arguments);\n        function wrapped() {\n            var self = getInstance(this, wrapped),\n                i;\n\n            if(arguments.length != fields.length)\n                throw new TypeError('Expected ' + fields.length + ' arguments, got ' + arguments.length);\n\n            for(i = 0; i < fields.length; i++)\n                self[fields[i]] = arguments[i];\n\n            return self;\n        }\n        wrapped._length = fields.length;\n        return wrapped;\n    }\n    exports.tagged = tagged;\n\n    /**\n      ## `daggy.taggedSum(constructors)`\n\n      Creates a constructor for each key in `constructors`. Returns a\n      function with each constructor as a property. Allows\n      `instanceof` checks for each constructor and the returned\n      function.\n\n      ```javascript\n      var Option = daggy.taggedSum({\n          Some: ['x'],\n          None: []\n      });\n\n      Option.Some(1) instanceof Option.Some; // true\n      Option.Some(1) instanceof Option; // true\n      Option.None instanceof Option; // true\n\n      function incOrZero(o) {\n          return o.cata({\n              Some: function(x) {\n                  return x + 1;\n              },\n              None: function() {\n                  return 0;\n              }\n          });\n      }\n      incOrZero(Option.Some(1)); // 2\n      incOrZero(Option.None); // 0\n      ```\n    **/\n    function taggedSum(constructors) {\n        var key;\n\n        function definitions() {\n            throw new TypeError('Tagged sum was called instead of one of its properties.');\n        }\n\n        function makeCata(key) {\n            return function(dispatches) {\n                var fields = constructors[key],\n                    args = [],\n                    i;\n\n                if(!dispatches[key])\n                    throw new TypeError(\"Constructors given to cata didn't include: \" + key);\n\n                for(i = 0; i < fields.length; i++)\n                    args.push(this[fields[i]]);\n\n                return dispatches[key].apply(this, args);\n            };\n        }\n\n        function makeProto(key) {\n            var proto = create(definitions.prototype);\n            proto.cata = makeCata(key);\n            return proto;\n        }\n\n        for(key in constructors) {\n            if(!constructors[key].length) {\n                definitions[key] = makeProto(key);\n                continue;\n            }\n            definitions[key] = tagged.apply(null, constructors[key]);\n            definitions[key].prototype = makeProto(key);\n        }\n\n        return definitions;\n    }\n    exports.taggedSum = taggedSum;\n});\n","var daggy = require('daggy'),\n    Validation = daggy.taggedSum({\n        Success: ['s'],\n        Failure: ['f']\n    });\n\nfunction identity(a) {\n    return a;\n}\n\n// Methods\nValidation.prototype.fold = function(f, g) {\n    return this.cata({\n        Failure: f,\n        Success: g\n    });\n};\nValidation.of = Validation.Success;\nValidation.prototype.bimap = function(f, g) {\n    return this.fold(\n        function(a) {\n            return Validation.Failure(f(a));\n        },\n        function(b) {\n            return Validation.Success(g(b));\n        }\n    );\n};\nValidation.prototype.map = function(f) {\n    return this.bimap(identity, f);\n};\nValidation.prototype.ap = function(b) {\n    return this.fold(\n        function(f1) {\n            return b.fold(\n                function(f2) {\n                    return Validation.Failure(f1.concat(f2));\n                },\n                function(s) {\n                    return Validation.Failure(f1);\n                }\n            );\n        },\n        function(s) {\n            return b.map(s);\n        }\n    );\n};\nValidation.prototype.concat = function(b) {\n    return this.fold(\n        function(f) {\n            return b.bimap(\n                function(g) {\n                    return f.concat(g);\n                },\n                identity\n            );\n        },\n        function(s) {\n            return b.map(function(d) {\n                return s.concat(d);\n            });\n        }\n    );\n};\n\n// Export\nif(typeof module != 'undefined')\n    module.exports = Validation;\n","/**\n  # Daggy\n\n  Library for creating tagged constructors.\n**/\n(function(global, factory) {\n    'use strict';\n\n    if(typeof define === 'function' && define.amd) {\n        define(['exports'], factory);\n    } else if(typeof exports !== 'undefined') {\n        factory(exports);\n    } else {\n        global.daggy = {};\n        factory(global.daggy);\n    }\n})(this, function(exports) {\n    function create(proto) {\n        function Ctor() {}\n        Ctor.prototype = proto;\n        return new Ctor();\n    }\n    exports.create = create;\n\n    /**\n      ## `daggy.getInstance(self, constructor)`\n\n      Returns `self` if it's an `instanceof constructor`, otherwise\n      creates a new object with `constructor`'s prototype.\n\n      Allows creating constructors that can be used with or without\n      the new keyword but always have the correct prototype.\n\n      ```javascript\n      function WrappedArray() {\n          var self = daggy.getInstance(this, WrappedArray);\n          self._array = [].slice.apply(arguments);\n          return self;\n      }\n      new WrappedArray(1, 2, 3) instanceof WrappedArray; // true\n      WrappedArray(1, 2, 3) instanceof WrappedArray; // true\n      ```\n    **/\n    function getInstance(self, constructor) {\n        return self instanceof constructor ? self : create(constructor.prototype);\n    }\n    exports.getInstance = getInstance;\n\n    /**\n      ## `daggy.tagged(arguments)`\n\n      Creates a new constructor with the given field names as\n      arguments and properties. Allows `instanceof` checks with\n      returned constructor.\n\n      ```javascript\n      var Tuple3 = daggy.tagged('x', 'y', 'z');\n\n      var _123 = Tuple3(1, 2, 3); // optional new keyword\n      _123.x == 1 && _123.y == 2 && _123.z == 3; // true\n      _123 instanceof Tuple3; // true\n      ```\n    **/\n    function tagged() {\n        var fields = [].slice.apply(arguments);\n        function wrapped() {\n            var self = getInstance(this, wrapped),\n                i;\n\n            if(arguments.length != fields.length)\n                throw new TypeError('Expected ' + fields.length + ' arguments, got ' + arguments.length);\n\n            for(i = 0; i < fields.length; i++)\n                self[fields[i]] = arguments[i];\n\n            return self;\n        }\n        wrapped._length = fields.length;\n        return wrapped;\n    }\n    exports.tagged = tagged;\n\n    /**\n      ## `daggy.taggedSum(constructors)`\n\n      Creates a constructor for each key in `constructors`. Returns a\n      function with each constructor as a property. Allows\n      `instanceof` checks for each constructor and the returned\n      function.\n\n      ```javascript\n      var Option = daggy.taggedSum({\n          Some: ['x'],\n          None: []\n      });\n\n      Option.Some(1) instanceof Option.Some; // true\n      Option.Some(1) instanceof Option; // true\n      Option.None instanceof Option; // true\n\n      function incOrZero(o) {\n          return o.cata({\n              Some: function(x) {\n                  return x + 1;\n              },\n              None: function() {\n                  return 0;\n              }\n          });\n      }\n      incOrZero(Option.Some(1)); // 2\n      incOrZero(Option.None); // 0\n      ```\n    **/\n    function taggedSum(constructors) {\n        var key;\n\n        function definitions() {\n            throw new TypeError('Tagged sum was called instead of one of its properties.');\n        }\n\n        function makeCata(key) {\n            return function(dispatches) {\n                var fields = constructors[key],\n                    args = [],\n                    i;\n\n                if(!dispatches[key])\n                    throw new TypeError(\"Constructors given to cata didn't include: \" + key);\n\n                for(i = 0; i < fields.length; i++)\n                    args.push(this[fields[i]]);\n\n                return dispatches[key].apply(this, args);\n            };\n        }\n\n        function makeProto(key) {\n            var proto = create(definitions.prototype);\n            proto.cata = makeCata(key);\n            return proto;\n        }\n\n        for(key in constructors) {\n            if(!constructors[key].length) {\n                definitions[key] = makeProto(key);\n                continue;\n            }\n            definitions[key] = tagged.apply(null, constructors[key]);\n            definitions[key].prototype = makeProto(key);\n        }\n\n        return definitions;\n    }\n    exports.taggedSum = taggedSum;\n});\n"]}